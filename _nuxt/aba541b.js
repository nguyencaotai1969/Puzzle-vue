(window.webpackJsonp=window.webpackJsonp||[]).push([[9,5],{298:function(t,e,n){var content=n(305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(110).default)("3ae78c1e",content,!0,{sourceMap:!1})},300:function(t,e,n){t.exports=n.p+"img/malharro.430fa5c.jpg"},304:function(t,e,n){"use strict";n(298)},305:function(t,e,n){var o=n(109)((function(i){return i[1]}));o.push([t.i,'.play-again[data-v-1d56cb69]{color:#333;font-family:"Helvetica",arial;height:1500px}.wrap[data-v-1d56cb69]{padding:40px;text-align:center}hr[data-v-1d56cb69]{border:0;border-top:1px solid #aaa;clear:both;margin-top:40px}h1[data-v-1d56cb69],hr[data-v-1d56cb69]{margin-bottom:40px}h1[data-v-1d56cb69]{font-size:30px}p[data-v-1d56cb69]{margin-bottom:20px}.btn[data-v-1d56cb69]{background:#428bca;border:1px solid #357ebd;border-radius:3px;color:#fff;display:inline-block;font-size:14px;min-width:60px;padding:8px 15px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;transition:all .1s ease}.btn-reject[data-v-1d56cb69]{background:#8f5858!important}.btn-reject[data-v-1d56cb69]:hover{background:#ad0707!important}.btn[data-v-1d56cb69]:hover{background:#357ebd;cursor:pointer}.btn.btn-big[data-v-1d56cb69]{font-size:18px;min-width:100px;padding:15px 20px}.btn-close[data-v-1d56cb69]{color:hsla(0,0%,67%,.678);font-size:30px;position:absolute;right:5px;-webkit-text-decoration:none;text-decoration:none;top:0;transition:all .1s ease-in}.btn-close[data-v-1d56cb69]:hover{color:#313131;cursor:pointer}.modal[data-v-1d56cb69]:target:before{display:none}.modal[data-v-1d56cb69]:before{background:rgba(0,0,0,.6);bottom:0;content:"";display:block;left:0;position:fixed;right:0;top:0;z-index:10}.modal .modal-dialog[data-v-1d56cb69]{background:#fefefe;border:1px solid #333;border-radius:5px;left:50%;margin-left:-200px;position:fixed;top:20%;transform:translate(0);transition:transform .3s ease-out;width:360px;z-index:11}.modal:target .modal-dialog[data-v-1d56cb69]{top:-100%;transform:translateY(-500%)}.title[data-v-1d56cb69]{color:blue}.modal-body[data-v-1d56cb69]{padding:8px 20px}.modal-footer[data-v-1d56cb69],.modal-header[data-v-1d56cb69]{padding:10px 20px}.modal-header[data-v-1d56cb69]{border-bottom:1px solid #eee}.modal-header h2[data-v-1d56cb69]{font-size:20px}.modal-footer[data-v-1d56cb69]{border-top:1px solid #eee;text-align:right}',""]),o.locals={},t.exports=o},308:function(t,e,n){"use strict";n.r(e);var o={props:{showModal:{type:Boolean,require:!0},title:{type:String,require:!0},completeTime:{type:String,require:!0}},methods:{confirm:function(){this.$emit("play")},cancel:function(){this.$emit("cancel")}}},r=(n(304),n(49)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[t.showModal?e("div",{staticClass:"play-again"},[e("div",{staticClass:"modal",attrs:{id:"modal-one"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-header"},[e("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"btn-close",on:{click:function(e){return t.cancel()}}},[t._v("×")])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._m(0),t._v(" "),e("p",[t._v("Time: "+t._s(t.completeTime)+" (s)")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-reject",on:{click:function(e){return t.cancel()}}},[t._v("Thoát")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(e){return t.confirm()}}},[t._v("Chơi lại")])])])])]):t._e()])}),[function(){var t=this._self._c;return t("p",[t("b",[this._v("Bạn có muốn chơi lại?")])])}],!1,null,"1d56cb69",null);e.default=component.exports},345:function(t,e,n){var content=n(398);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(110).default)("3ba33344",content,!0,{sourceMap:!1})},397:function(t,e,n){"use strict";n(345)},398:function(t,e,n){var o=n(109)((function(i){return i[1]}));o.push([t.i,".puzzle-container[data-v-19ebe69c]{height:90vh;margin:0 auto;position:relative;width:95vw}#puzzle .konvajs-content canvas[data-v-19ebe69c]{border:solid!important}",""]),o.locals={},t.exports=o},405:function(t,e,n){"use strict";n.r(e);n(83),n(321),n(84);var o=n(322),r=n.n(o),l={layout:"default",modules:["nuxt-time"],data:function(){return{theFirstTime:!0,isShowAwser:!1,isComplete:!1,showModal:!1,titleModalPlayAgain:"",startTime:null,currentTime:0,currentTimeString:"",timeComplete:"",timerInterval:null,autoGen:{}}},computed:{formattedPlayTime:function(){var t=Math.floor(this.currentTime/60),e=this.currentTime%60;return this.currentTimeString="".concat(String(t).padStart(2,"0"),":").concat(String(e).padStart(2,"0")),this.currentTimeString}},mounted:function(){window.addEventListener("resize",this.resizeHandler),this.isShowAwser=!0},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler),clearInterval(this.timerInterval)},methods:{playGame:function(){this.theFirstTime=!1,this.isShowAwser=!0,this.startTimer(),this.loadImageAndDrawPuzzle()},startTimer:function(){var t=this;this.startTime=Date.now(),this.currentTime=0,this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval((function(){t.currentTime=Math.floor((Date.now()-t.startTime)/1e3)}),1e3)},stopTimer:function(){this.timeComplete=this.currentTimeString,this.timerInterval&&clearInterval(this.timerInterval)},resizeHandler:function(){var t=document.getElementById("puzzle").getBoundingClientRect(),e=t.width,n=t.height;this.autoGen.setSize(e,n),this.autoGen.redraw()},playAgain:function(){this.showModal=!1,this.loadImageAndDrawPuzzle(),this.startTimer()},cancelPlayAgain:function(){this.showModal=!1;this.$router.push("/home")},endGame:function(t){this.stopTimer(),this.titleModalPlayAgain=t?"Congratulations!":"Good luck another time!",this.showModal=!0},loadImageAndDrawPuzzle:function(){var t=this,e=new Image;e.src=n(300),e.onload=function(){t.drawPuzzle(e)}},drawPuzzle:function(image){var t=this,e=new r.a.painters.Konva,n=document.querySelector(".puzzle-container").clientWidth,o=document.querySelector(".puzzle-container").clientHeight,l=Math.min(n,o)/4.6;this.autoGen=new r.a.Canvas("puzzle",{width:n,height:o,pieceSize:l,proximity:.13*l,borderFill:.09*l,strokeWidth:6,lineSoftness:.18,image:image,fixed:!0,preventOffstageDrag:!0,painter:e,maxPiecesCount:6}),this.autoGen.adjustImagesToPuzzleHeight(),this.autoGen.autogenerate({horizontalPiecesCount:3,verticalPiecesCount:3}),this.autoGen.shuffleGrid(),this.autoGen.attachSolvedValidator(),this.autoGen.onValid((function(){t.stopTimer(),setTimeout((function(){t.isComplete=!0,t.endGame(t.isComplete)}),500)})),this.autoGen.draw()}}},d=(n(397),n(49)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"game"}},[e("div",[t._v("CHƠI GAME GHÉP HÌNH 3 x 3")]),t._v(" "),e("div",{staticClass:"info-user-turn"},[e("p",[t._v("Thời gian chơi [mm:ss]: "+t._s(t.formattedPlayTime))])]),t._v(" "),t.theFirstTime?e("button",{attrs:{id:"start"},on:{click:function(e){return t.playGame()}}},[t._v("Bắt đầu")]):t._e(),t._v(" "),e("PlayAgain",{attrs:{showModal:t.showModal,title:t.titleModalPlayAgain,timeComplete:t.timeComplete},on:{play:t.playAgain,cancel:t.cancelPlayAgain}}),t._v(" "),t._m(0)],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"puzzle-container",attrs:{id:"puzzle"}})])}],!1,null,"19ebe69c",null);e.default=component.exports;installComponents(component,{PlayAgain:n(308).default})}}]);