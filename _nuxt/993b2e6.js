(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,5],{298:function(t,e,o){var content=o(305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(110).default)("3ae78c1e",content,!0,{sourceMap:!1})},300:function(t,e,o){t.exports=o.p+"img/malharro.430fa5c.jpg"},303:function(t,e,o){var content=o(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(110).default)("7746292c",content,!0,{sourceMap:!1})},304:function(t,e,o){"use strict";o(298)},305:function(t,e,o){var n=o(109)((function(i){return i[1]}));n.push([t.i,'.play-again[data-v-1d56cb69]{color:#333;font-family:"Helvetica",arial;height:1500px}.wrap[data-v-1d56cb69]{padding:40px;text-align:center}hr[data-v-1d56cb69]{border:0;border-top:1px solid #aaa;clear:both;margin-top:40px}h1[data-v-1d56cb69],hr[data-v-1d56cb69]{margin-bottom:40px}h1[data-v-1d56cb69]{font-size:30px}p[data-v-1d56cb69]{margin-bottom:20px}.btn[data-v-1d56cb69]{background:#428bca;border:1px solid #357ebd;border-radius:3px;color:#fff;display:inline-block;font-size:14px;min-width:60px;padding:8px 15px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;transition:all .1s ease}.btn-reject[data-v-1d56cb69]{background:#8f5858!important}.btn-reject[data-v-1d56cb69]:hover{background:#ad0707!important}.btn[data-v-1d56cb69]:hover{background:#357ebd;cursor:pointer}.btn.btn-big[data-v-1d56cb69]{font-size:18px;min-width:100px;padding:15px 20px}.btn-close[data-v-1d56cb69]{color:hsla(0,0%,67%,.678);font-size:30px;position:absolute;right:5px;-webkit-text-decoration:none;text-decoration:none;top:0;transition:all .1s ease-in}.btn-close[data-v-1d56cb69]:hover{color:#313131;cursor:pointer}.modal[data-v-1d56cb69]:target:before{display:none}.modal[data-v-1d56cb69]:before{background:rgba(0,0,0,.6);bottom:0;content:"";display:block;left:0;position:fixed;right:0;top:0;z-index:10}.modal .modal-dialog[data-v-1d56cb69]{background:#fefefe;border:1px solid #333;border-radius:5px;left:50%;margin-left:-200px;position:fixed;top:20%;transform:translate(0);transition:transform .3s ease-out;width:360px;z-index:11}.modal:target .modal-dialog[data-v-1d56cb69]{top:-100%;transform:translateY(-500%)}.title[data-v-1d56cb69]{color:blue}.modal-body[data-v-1d56cb69]{padding:8px 20px}.modal-footer[data-v-1d56cb69],.modal-header[data-v-1d56cb69]{padding:10px 20px}.modal-header[data-v-1d56cb69]{border-bottom:1px solid #eee}.modal-header h2[data-v-1d56cb69]{font-size:20px}.modal-footer[data-v-1d56cb69]{border-top:1px solid #eee;text-align:right}',""]),n.locals={},t.exports=n},308:function(t,e,o){"use strict";o.r(e);var n={props:{showModal:{type:Boolean,require:!0},title:{type:String,require:!0},completeTime:{type:String,require:!0}},methods:{confirm:function(){this.$emit("play")},cancel:function(){this.$emit("cancel")}}},r=(o(304),o(49)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[t.showModal?e("div",{staticClass:"play-again"},[e("div",{staticClass:"modal",attrs:{id:"modal-one"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-header"},[e("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"btn-close",on:{click:function(e){return t.cancel()}}},[t._v("×")])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._m(0),t._v(" "),e("p",[t._v("Time: "+t._s(t.completeTime)+" (s)")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-reject",on:{click:function(e){return t.cancel()}}},[t._v("Thoát")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(e){return t.confirm()}}},[t._v("Chơi lại")])])])])]):t._e()])}),[function(){var t=this._self._c;return t("p",[t("b",[this._v("Bạn có muốn chơi lại?")])])}],!1,null,"1d56cb69",null);e.default=component.exports},310:function(t,e,o){"use strict";o(303)},311:function(t,e,o){var n=o(109)((function(i){return i[1]}));n.push([t.i,'.play-again[data-v-3a7866ba]{color:#333;font-family:"Helvetica",arial;height:1500px}.wrap[data-v-3a7866ba]{padding:40px;text-align:center}hr[data-v-3a7866ba]{border:0;border-top:1px solid #aaa;clear:both;margin-top:40px}h1[data-v-3a7866ba],hr[data-v-3a7866ba]{margin-bottom:40px}h1[data-v-3a7866ba]{font-size:30px}p[data-v-3a7866ba]{margin-bottom:20px}.btn[data-v-3a7866ba]{background:#428bca;border:1px solid #357ebd;border-radius:3px;color:#fff;display:inline-block;font-size:14px;min-width:60px;padding:8px 15px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;transition:all .1s ease}.btn-reject[data-v-3a7866ba]{background:#8f5858!important}.btn-reject[data-v-3a7866ba]:hover{background:#ad0707!important}.btn[data-v-3a7866ba]:hover{background:#357ebd;cursor:pointer}.btn.btn-big[data-v-3a7866ba]{font-size:18px;min-width:100px;padding:15px 20px}.btn-close[data-v-3a7866ba]{color:hsla(0,0%,67%,.678);font-size:30px;position:absolute;right:5px;-webkit-text-decoration:none;text-decoration:none;top:0}.btn-close[data-v-3a7866ba]:hover{color:#313131;cursor:pointer}.modal[data-v-3a7866ba]:target:before{display:none}.modal[data-v-3a7866ba]:before{background:rgba(0,0,0,.6);bottom:0;content:"";display:block;left:0;position:fixed;right:0;top:0;z-index:10}.modal .modal-dialog[data-v-3a7866ba]{background:#fefefe;border:1px solid #333;border-radius:5px;left:50%;margin-left:-200px;position:fixed;top:20%;transform:translate(0);transition:transform .3s ease-out;width:360px;z-index:11}.modal:target .modal-dialog[data-v-3a7866ba]{top:-100%;transform:translateY(-500%)}.title[data-v-3a7866ba]{color:blue}.modal-body[data-v-3a7866ba]{padding:8px 20px}.modal-footer[data-v-3a7866ba],.modal-header[data-v-3a7866ba]{padding:10px 20px}.modal-header[data-v-3a7866ba]{border-bottom:1px solid #eee}.modal-header h2[data-v-3a7866ba]{font-size:20px}.modal-footer[data-v-3a7866ba]{border-top:1px solid #eee;text-align:right}',""]),n.locals={},t.exports=n},320:function(t,e,o){"use strict";o.r(e);var n={props:{showModalExit:{type:Boolean,require:!0}},methods:{confirmExit:function(){this.$emit("confirmExit")},cancelExit:function(){this.$emit("cancelExit")}}},r=(o(310),o(49)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[t.showModalExit?e("div",{staticClass:"play-again"},[e("div",{staticClass:"modal",attrs:{id:"modal-one"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"btn-close",on:{click:function(e){return t.cancel()}}},[t._v("×")])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-reject",on:{click:function(e){return t.confirmExit()}}},[t._v("Rời đi")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(e){return t.cancelExit()}}},[t._v("Ở lại")])])])])]):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"modal-body"},[t("p",[t("b",[this._v("Bạn có chắc chắn muốn thoát game?")])])])}],!1,null,"3a7866ba",null);e.default=component.exports},330:function(t,e,o){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},346:function(t,e,o){var content=o(400);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(110).default)("3e393f7c",content,!0,{sourceMap:!1})},399:function(t,e,o){"use strict";o(346)},400:function(t,e,o){var n=o(109),r=o(330),d=o(300),c=n((function(i){return i[1]})),l=r(d);c.push([t.i,"#puzzle-container[data-v-86c849b6]{box-sizing:border-box;height:100vh!important;margin:0!important;padding:0!important;width:100vw!important}.container[data-v-86c849b6]{align-items:center;display:flex;justify-content:center;margin-top:10px}#game[data-v-86c849b6]{box-sizing:border-box}#game>div[data-v-86c849b6]:first-child{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center}.info-user-turn[data-v-86c849b6]{text-align:center}.puzzle-contain[data-v-86c849b6]{border:2px solid #333;height:80vh;margin:0 auto;position:relative;width:50vw}.puzzle-background[data-v-86c849b6]{background-image:url("+l+");background-position:50%;background-repeat:no-repeat;background-size:cover;height:80vh;opacity:.5;position:absolute;width:50vw}.puzzle-canvas[data-v-86c849b6]{height:80vh;margin:0 auto;width:50vw;z-index:2}.suggest-container[data-v-86c849b6]{bottom:0;left:0;position:absolute;transition:all .2s linear;z-index:999999}.suggest-info[data-v-86c849b6]:hover{cursor:pointer}.suggest-info img[data-v-86c849b6]{border:solid;border-radius:4px;height:1px;margin-left:4px;transition:all .2s linear;width:1px}.suggest-btn[data-v-86c849b6]{background:rgba(0,0,255,.712);color:#fff}.suggest-btn[data-v-86c849b6]:hover{background:#00f}#puzzle .konvajs-content canvas[data-v-86c849b6]{border:none!important}button[data-v-86c849b6]{background-color:#007bff;border:none;border-radius:5px;color:#fff;cursor:pointer;display:block;font-size:18px;font-weight:700;margin:0 auto;padding:10px 20px;transition:background-color .3s}button[data-v-86c849b6]:hover{background-color:#0056b3}.modal[data-v-86c849b6]{align-items:center;background-color:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%}.modal-content[data-v-86c849b6]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.1);padding:20px}.modal-content h2[data-v-86c849b6]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center}.modal-buttons[data-v-86c849b6]{display:flex;justify-content:space-around;margin-top:20px}.active[data-v-86c849b6]{opacity:1;z-index:99}.in-focus[data-v-86c849b6]{opacity:.5}@media only screen and (max-width:320px){#game>div[data-v-86c849b6]:first-child{font-size:18px;margin-bottom:10px}.info-user-turn p[data-v-86c849b6]{font-size:12px;margin-bottom:8px}button[data-v-86c849b6]{font-size:14px;padding:6px 12px}.modal-content h2[data-v-86c849b6]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width:321px) and (max-width:375px){#game>div[data-v-86c849b6]:first-child{font-size:22px;margin-bottom:15px}.info-user-turn p[data-v-86c849b6]{font-size:14px;margin-bottom:10px}button[data-v-86c849b6]{font-size:16px;padding:8px 16px}.modal-content h2[data-v-86c849b6]{font-size:24px;margin-bottom:15px}}",""]),c.locals={},t.exports=c},406:function(t,e,o){"use strict";o.r(e);o(83),o(321),o(84);var n=o(322),r=o.n(n),d={layout:"default",data:function(){return{isPlaying:!1,isShowAwser:!1,isComplete:!1,showModal:!1,showModalExit:!1,titleModalPlayAgain:"",startTime:null,currentTime:0,currentTimeString:"",completeTime:"",maxTime:120,timerInterval:null,autoGen:{},pauseTime:0}},computed:{formattedPlayTime:function(){return this.currentTimeString||this.updateCurrentTimeString(),this.currentTimeString},formattedMaxTime:function(){return this.convertTimeToString(this.maxTime)}},beforeMount:function(){this.$nextTick((function(){var t=document.querySelector(".puzzle-canvas").clientWidth,e=document.querySelector(".suggest-image");t&&e&&(e.style.width="".concat(Math.ceil(t/8),"px"),e.style.height="".concat(Math.ceil(t/8),"px"))}))},mounted:function(){window.addEventListener("resize",this.resizeHandler),this.isShowAwser=!0},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler),clearInterval(this.timerInterval)},methods:{playGame:function(){var t=this;this.isPlaying=!0,this.isShowAwser=!0,this.startTimer(),setTimeout((function(){t.loadImageAndDrawPuzzle()}),200)},startTimer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.startTime=Date.now(),!e&&this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval((function(){t.currentTime=e?Math.floor((Date.now()-t.startTime+1e3*t.pauseTime)/1e3):Math.floor((Date.now()-t.startTime)/1e3),t.updateCurrentTimeString(),t.currentTime===t.maxTime&&(t.isComplete=!1,t.endGame(t.isComplete))}),1e3)},clearTimeInterval:function(){this.timerInterval&&clearInterval(this.timerInterval)},playAgain:function(){var t=this;setTimeout((function(){t.showModal=!1,t.currentTime=0,t.updateCurrentTimeString(),t.clearCanvas(),t.isPlaying=!1}),50)},endGame:function(t){this.completeTime=this.currentTimeString,this.clearTimeInterval(),this.titleModalPlayAgain=t?"Chúc mừng bạn đã chiến thắng!":"Chúc bạn may mắn lần sau!",this.showModal=!0},actionAgreeExit:function(){this.showModal=!1,this.clearTimeInterval();this.$router.push("/home")},actionRefureExit:function(){this.showModalExit=!1,this.startTimer(!0),this.updateCurrentTimeString()},exitGame:function(){this.pauseTime=this.currentTime,this.clearTimeInterval(),this.showModalExit=!0},targetSuggest:function(){var t=document.getElementById("puzzle-background"),e=document.querySelector(".suggest-image");t&&t.classList.toggle("active"),e&&e.classList.toggle("in-focus")},loadImageAndDrawPuzzle:function(){var t=this,e=new Image;e.src=o(300),e.onload=function(){t.drawPuzzle(e)}},drawPuzzle:function(image){var t=this,e=new r.a.painters.Konva,o=document.querySelector(".puzzle-canvas").clientWidth,n=document.querySelector(".puzzle-canvas").clientHeight,d=Math.min(o,n)/4.6;this.autoGen=new r.a.Canvas("puzzle",{width:o,height:n,pieceSize:d,proximity:.15*d,borderFill:.09*d,strokeWidth:9,lineSoftness:.18,image:image,fixed:!0,preventOffstageDrag:!0,painter:e,maxPiecesCount:9}),this.autoGen.adjustImagesToPuzzleHeight(),this.autoGen.autogenerate({horizontalPiecesCount:3,verticalPiecesCount:3}),this.autoGen.shuffleGrid(),this.autoGen.attachSolvedValidator(),this.autoGen.onValid((function(){t.clearTimeInterval(),setTimeout((function(){t.isComplete=!0,t.endGame(t.isComplete)}),500)})),this.autoGen.draw()},clearCanvas:function(){this.autoGen.clear()},convertTimeToString:function(time){return"".concat(String(Math.floor(time/60)).padStart(2,"0"),":").concat(String(time%60).padStart(2,"0"))},updateCurrentTimeString:function(){this.currentTimeString=this.convertTimeToString(this.currentTime)}}},c=d,l=(o(399),o(49)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"puzzle-container"}},[e("div",{attrs:{id:"game"}},[e("div",[t._v("[3x3] GAME XẾP HÌNH")]),t._v(" "),e("div",{staticClass:"info-user-turn"},[e("p",[t._v("Thời gian tối đa [mm:ss]: "+t._s(t.formattedMaxTime))]),t._v(" "),e("p",[t._v("Thời gian chơi [mm:ss]: "+t._s(t.formattedPlayTime))])]),t._v(" "),t.isPlaying?e("button",{attrs:{id:"exit"},on:{click:function(e){return t.exitGame()}}},[t._v("Thoát game")]):e("button",{attrs:{id:"start"},on:{click:function(e){return t.playGame()}}},[t._v("Bắt đầu")]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"puzzle-contain"},[e("div",{staticClass:"puzzle-background",attrs:{id:"puzzle-background"}}),t._v(" "),e("div",{staticClass:"puzzle-canvas",attrs:{id:"puzzle"}}),t._v(" "),e("div",{staticClass:"suggest-container"},[e("div",{staticClass:"suggest-info",on:{click:function(e){return t.targetSuggest()}}},[e("span",[t._v("Click toggle suggest")]),t._v(" "),e("img",{staticClass:"suggest-image",attrs:{src:o(300),alt:""}})])])])])]),t._v(" "),e("PlayAgain",{attrs:{showModal:t.showModal,title:t.titleModalPlayAgain,completeTime:t.completeTime},on:{play:t.playAgain,cancel:t.exitGame}}),t._v(" "),e("ConfirmExit",{attrs:{showModalExit:t.showModalExit},on:{confirmExit:t.actionAgreeExit,cancelExit:t.actionRefureExit}})],1)}),[],!1,null,"86c849b6",null);e.default=component.exports;installComponents(component,{PlayAgain:o(308).default,ConfirmExit:o(320).default})}}]);